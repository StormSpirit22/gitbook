# 笔记





## BTC 实现

selfish mining: 恶意节点产出块不立即发布，而是等待一段时间再发布。

好处：

1. 自己产生一块比较长的链，覆盖掉现有的链，以回滚之前的一些交易，作为分叉攻击。
2. 自己已经产生一个区块不发布，别的算力还在根据之前的块头 hash 出块，这样就浪费了别人的算力，减小竞争。

风险：

自己产生的区块如果不马上发布，可能别人同时也算出一块，如果此时再不发布很可能就赶不上别的算力出块的速度，自己出的块就被覆盖了。



## BTC 分叉

硬分叉：旧节点不认新节点产出的区块，新旧节点分成两条链，有两种不同的加密货币。如 ETH、ETC。

软分叉：旧节点认新节点产出的区块，旧节点会慢慢到新的链上产生区块，不会产生永久性的分叉。如 BTC 的 Pay To Script Hash 更新。